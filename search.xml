<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>efCore多环境迁移</title>
      <link href="/Zhaohunwang.github.io/2020/01/27/efCore%E5%A4%9A%E7%8E%AF%E5%A2%83%E8%BF%81%E7%A7%BB/"/>
      <url>/Zhaohunwang.github.io/2020/01/27/efCore%E5%A4%9A%E7%8E%AF%E5%A2%83%E8%BF%81%E7%A7%BB/</url>
      
        <content type="html"><![CDATA[<p>Ef Core迁移数据库中，使用不同环境的连接字符串对数据库进行迁移</p><h2 id="查看ef当前使用环境"><a href="#查看ef当前使用环境" class="headerlink" title="查看ef当前使用环境"></a>查看ef当前使用环境</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dotnet ef dbcontext info</span><br></pre></td></tr></table></figure></div><h2 id="设置环境"><a href="#设置环境" class="headerlink" title="设置环境"></a>设置环境</h2><h4 id="windows"><a href="#windows" class="headerlink" title="windows"></a>windows</h4><h6 id="Console"><a href="#Console" class="headerlink" title="Console"></a>Console</h6><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set ASPNETCORE_ENVIRONMENT&#x3D;环境名</span><br></pre></td></tr></table></figure></div><h6 id="Powershell"><a href="#Powershell" class="headerlink" title="Powershell"></a>Powershell</h6><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$Env:ASPNETCORE_ENVIRONMENT &#x3D; &quot;环境名&quot;</span><br></pre></td></tr></table></figure></div><h2 id="进行迁移"><a href="#进行迁移" class="headerlink" title="进行迁移"></a>进行迁移</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dotnet ef migrations add InitialCreate</span><br></pre></td></tr></table></figure></div><p>参考资料</p><p>[1]<a href="https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/environments?view=aspnetcore-3.1" target="_blank" rel="noopener">在 ASP.NET Core 中使用多个环境</a></p><p>[2]<a href="https://docs.microsoft.com/zh-cn/ef/core/managing-schemas/migrations/?tabs=dotnet-core-cli" target="_blank" rel="noopener">迁移</a></p>]]></content>
      
      
      <categories>
          
          <category> ef </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ef core </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
